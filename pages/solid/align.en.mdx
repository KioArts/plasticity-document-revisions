import VideoPlayer from '/components/VideoPlayer';
import ButtonIcon from '/components/ButtonIcon'
import Kst from '/components/KeyboardShortcutsTitle'
import Reference from '/components/Reference'
import { Callout } from 'nextra/components'

# Align

<Reference shortcut="" command="Align" button="" />

Align is a tool based on the xNURBS command that adjusts one surface edge to match another, ensuring positional **(G0)**, tangential **(G1)**, or curvature **(G2)** continuity. You select two edges: a reference edge and a target edge. The target edge is modified to follow the shape and smoothness of the reference. Additional controls let you edit the surface's degree and span to support better transition results.

> **Note:** This command is available only with the **Studio License**.

## Basic Usage

1. Select the target edge to move, then select the reference edge to align to.
2. Type **Align** in the Command Palette.
3. Set the options in the Command Dialog.
    - <Kst>Command Dialog</Kst>
        - **Align:**
            - **Continuity:** **G0, G1, G2** Specify the [continuity of the Surface](/cad-essentials/continuity-curve-and-surface).
                - Continuity can be specified individually by clicking on the black circles on the surface.
            - **Tension:** Adjust the curvature transition of a surface.
            - **Blend extra rows:** Choose how many rows of control-points (CVs) to blend when aligning surfaces. Setting it to 0 results to no blending, while higher values blend more rows for a smoother connection. If the value is as high as or higher than the total rows, the surface fully adjusts to match the target.
            - **Input shape influence:** Adjust how much the original shape affects the aligned result. This takes effect when **Blend extra rows** is enabled.
        - **Partial Alignment:** Controls how the new surface blends at its start and end. 
                - **Partial start:** Adjusts how much of the surface's start blends with the target.
                - **Partial end:** Adjusts how much of the surface's end blends with the target.
        - **Degree:** Specify the UV degree value.
        - **Spans:** Specify the UV spans value.
        - **Boundary:** Specify the condition of UV flow.
            - **Natural:** No requirement for UV Flow.
            - **Normal:** Maintain UV isocurve mutually perpendicular.
            - **Next:** Generate a perpendicular flow of UV if boundary conditions are relatively flat.
            - **Adjacent:** Align V isocurves of the generated surface to adjacent curves. 
        - **Analysis:** Analyzes the continuity of surface edges.
            - **Continuity:** Verify the continuity of edges:
                - **G0:** Position continuity check.
                - **G1:** Tangent continuity check.
                - **G2:** Curvature continuity check.
            - **G0 Scale / G1 Scale / G2 Scale:** 
                - Adjust tolerance scales for respective continuity checks.
    - <Kst>Keyboard Shortcuts</Kst>
        - <kbd>Tab</kbd> **Cycle continuity:** Cycle through continuity options.
        - <kbd>Ctrl</kbd> **Show original:** Show original surface state (quasi mode).
4. Confirm with OK in the Command Dialog or right-click.

<VideoPlayer fileName="align-1"/>

<Callout emoji="❗">
**Note**    
Surfaces must be B-spline surfaces to use the Align tool effectively. You can use the [Rebuild](/solid/rebuild) command to rebuild the surface, or the [Raise Degree](/solid/raise-degree) command to increase its degree. Note that this process may introduce slight inaccuracies. 
</Callout>

<Callout type="info" emoji="ℹ️">
**Selecting Edges Between Connected Sheets**

There are 3 methods to achieve this:

    1. **Hover and Click Method** 
    
    - Hover your cursor over the target sheet near its edge and left-click to select the **target edge**. Then, while hovering over the other sheet, press <kbd>Shift</kbd> + Left-click to select the **reference edge**.

    2. **Ctrl + Shift Pop-up Method** 

    - Press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> and left-click on the **target edge**. A small pop-up window will appear. While holding the buttons, hover over the entries. Each entry highlights the corresponding face. Left-click on the correct face, then click on the second edge to complete the **reference edge** selection.

    3. **Mouse Scroll Method**

    - Similar to the previous method, left-click and **hold** on an edge, then scroll the mouse wheel up or down.

</Callout>

<VideoPlayer fileName="align-0"/>

## Partial Align

Partially align a new surface to a target surface by controlling how much of the start and end is blended. This allows for a tapered or gradual transition.

1. Select the edge of the surface you want to match or move and the edge you want to align to.
2. Type **Align** in the Command Palette.
3. Set the options in the Command Dialog.
    - <Kst>Command Dialog</Kst>
        - **Partial Alignment:** Controls how the new surface blends at its start and end.
                - **Partial start:** Adjusts how much of the surface's start blends with the target.
                - **Partial end:** Adjusts how much of the surface's end blends with the target.
    - <Kst>Keyboard Shortcuts</Kst>
        - <kbd>Tab</kbd> **Cycle continuity:** Cycle through continuity options.
        - <kbd>Ctrl</kbd> **Show original:** Show original surface state (quasi mode).

<VideoPlayer fileName="align-2"/>

## Align Multiple Surfaces

Align more than two adjacent surfaces at once to enable broader blending across multiple areas. The results and surface quality may vary depending on the complexity of the blended shape and its surrounding geometry.

<VideoPlayer fileName="align-3"/>