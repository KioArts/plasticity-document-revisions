import VideoPlayer from '/components/VideoPlayer';
import Reference from '/components/Reference'
import Kst from '/components/KeyboardShortcutsTitle'
import { Callout } from 'nextra/components'

# Square 

<Reference shortcut="" command="Square" button="In Command Palette" buttonIcon='button-square' />

Square は XNurbs に基づいたコマンドで、高品質な四辺形サーフェスを生成します。UV の次数やスパンを正確にパラメトリック制御でき、最適なサーフェス定義が可能です。

> **注意：** このコマンドは **Studio ライセンス** をお持ちの場合のみ使用できます。


## 基本的な使い方

1. 使用する境界エッジを選択し、**Square コマンド** を実行します。  
2. コマンドパレットで **Square** と入力します。  
3. コマンドダイアログでオプションを設定します。  
   - <Kst>コマンドダイアログ</Kst>  
   - **Continuity:** **自由 (Free), G0, G1, G2**  
      - **Free:** 境界の連続性を無視し、サーフェスの品質を向上させます。主に後で修正するための初期サーフェス作成に適しています。  
      - **G0, G1, G2:** [サーフェスの連続性](/cad-essentials/continuity-curve-and-surface) を指定します。  
   - **Flatness:** XNurbs と同様に、このオプションは生成されるサーフェスの平坦度と品質に影響します。値を高くすると高品質なサーフェスが生成され、低くすると品質が下がります。  
   - **Tension:** サーフェスの曲率遷移を調整します。  
   - **Degree:** UV の次数を指定します。  
   - **Spans:** UV のスパン値を指定します。  
   - **Boundary condition:** UV フローの条件を指定します。  
        - **Natural:** UV フローの制約なし。  
        - **Normal:** UV アイソカーブを互いに直交させます。  
        - **Next:** 境界条件が比較的平坦な場合、UV を直交フローとして生成します。  
        - **Adjacent:** 生成されるサーフェスの V アイソカーブを隣接するカーブに揃えます。  
   - **Weight:** 曲線やエッジの入力制約の適用強度を制御します。  
       - 低い値: 制約を緩めて、サーフェス品質や反射を向上。  
       - 高い値: 制約を厳密に適用し、指定した *Degree* や *Span* の UV フローに正確に整列。  
   - **Analysis:** サーフェスエッジの連続性を解析します – [連続性を測定](/tool/measure-continuity)。
         - **Continuity:** エッジの連続性を確認します：
            - **G0:** 位置の連続性チェック。
            - **G1:** 接線の連続性チェック。
            - **G2:** 曲率の連続性チェック。
4. コマンドダイアログで **OK** を押すか、右クリックして確定します。

<VideoPlayer fileName="square"/>

<Callout type="info" emoji="💡">   
XNurbs と同様に、コマンドを事前に実行し、境界エッジ、曲線、サーフェスの選択を開始できます。これによりワークフローが効率的に高速化され、サーフェス生成のライブプレビューが提供されます。 
</Callout>
<VideoPlayer fileName="square-4"/>

## 追加情報

### Square を使ったロフト

あるいは、**Square** コマンドを使用して、接触していない 2 本のエッジを選択することでロフト手法として利用できます。この方法はサーフェス生成に対してより高い柔軟性と制御を提供し、次数やスパン値、必要に応じた境界条件、平坦度、ウェイト影響などのパラメータを指定できます。標準のロフトは制御オプションが限られた固定サーフェスを生成します。

<VideoPlayer fileName="square-1"/>

### Square を使ったスイープ

**Sweep** コマンドと同様に、**Square** コマンドでも類似した結果を得られますが、生成されるサーフェスに対してより大きな柔軟性とコントロールが可能です。この結果は、2 本または 3 本の接触エッジを選択することで実現できます。

<VideoPlayer fileName="square-2"/>

### Square を使ったパッチ

**Square** コマンドは、**Patch** コマンドと同様に、四辺境界エッジでサーフェスの穴を埋めることができます。

<VideoPlayer fileName="square-3"/>

### サーフェスのリフィット

**Square** コマンドは、フェイス上および隣接するサーフェス上のトリムされたサーフェスを選択的にリフィットでき、スプラインの向きをサーフェスの自然な流れに合わせて整列させます。この機能は、スプラインの向きを合わせずにサーフェスを再構築する **Rebuild** コマンドとは大きく異なります。

<VideoPlayer fileName="square-5"/>

## 関連項目
- [XNurbs](xnurbs)
- [Rebuild Face](rebuild-face)
- [Raise Surface Degree](raise-surface-degree)